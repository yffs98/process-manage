(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c47b48d"],{"391a":function(t,s,a){},"612f":function(t,s,a){for(var n=a("5c07"),e=a("d753"),i=a("7f00"),o=a("4839"),c=a("c84b"),l=a("f03e"),r=a("f3ae"),u=r("iterator"),d=r("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=e(p),h=0;h<m.length;h++){var v,k=m[h],C=p[k],_=o[k],b=_&&_.prototype;if(b&&(b[u]||c(b,u,f),b[d]||c(b,d,k),l[k]=f,C))for(v in n)b[v]||i(b,v,n[v],!0)}},7415:function(t,s,a){"use strict";var n=a("2d2c"),e=a("ea02")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),a("68fb")(i)},"7a9f":function(t,s,a){"use strict";var n=a("391a"),e=a.n(n);e.a},"990a":function(t,s,a){var n=a("9b6d");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"9a37":function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tasklist"},[t._m(0),a("section",[a("Tabs",{staticClass:"tabs",attrs:{value:"name1"}},[a("TabPane",{staticClass:"tabpane",attrs:{label:"Todo",name:"name1"}},[a("ul",{staticClass:"list"},t._l(t.list,function(s,n){return a("li",{key:n,staticClass:"li"},[a("div",{staticClass:"one"},[a("p",{staticClass:"name"},[t._v(t._s(s.task_name))]),a("p",{staticClass:"discription"},[a("span",{staticClass:"sps",on:{click:function(s){return t.start(n)}}},[t._v("开始")]),a("span",{staticClass:"sps"},[t._v("结束")]),a("span",{staticClass:"sps"},[t._v("创建时间: "+t._s(t.time))])])]),a("div",{staticClass:"two"},[a("Button",{staticClass:"btntwo",attrs:{type:"error"},on:{click:function(s){t.modal1=!0}}},[t._v("删除")]),a("Modal",{attrs:{title:"修改任务"},on:{"on-ok":function(a){return t.okone(s.tid,s.mid)},"on-cancel":t.cancel},model:{value:t.modal1,callback:function(s){t.modal1=s},expression:"modal1"}},[a("p",[t._v("是否删除内容？")])])],1)])}),0)]),a("TabPane",{staticClass:"tabpane",attrs:{label:"Doing",name:"name2"}},[a("ul",{staticClass:"list"},t._l(t.list1,function(s,n){return a("li",{key:n,staticClass:"li"},[a("div",{staticClass:"one"},[a("p",{staticClass:"name"},[t._v(t._s(s.task_name))]),a("p",{staticClass:"discription"},[a("span",{staticClass:"sps"},[t._v("已开始")]),a("span",{staticClass:"sps",on:{click:function(s){return t.end(n)}}},[t._v("结束")]),a("span",{staticClass:"sps"},[t._v("创建时间: "+t._s(t.time))])])]),a("div",{staticClass:"two"},[a("Button",{staticClass:"btntwo",attrs:{type:"error"},on:{click:function(s){t.modal2=!0}}},[t._v("删除")]),a("Modal",{attrs:{title:"修改任务"},on:{"on-ok":function(a){return t.oktwo(s.tid,s.mid)},"on-cancel":t.cancel},model:{value:t.modal2,callback:function(s){t.modal2=s},expression:"modal2"}},[a("p",[t._v("是否删除内容？")])])],1)])}),0)]),a("TabPane",{staticClass:"tabpane",attrs:{label:"Done",name:"name3"}},[a("ul",{staticClass:"list"},t._l(t.list2,function(s,n){return a("li",{key:n,staticClass:"li"},[a("div",{staticClass:"one"},[a("p",{staticClass:"name"},[t._v(t._s(s.task_name))]),a("p",{staticClass:"discription"},[a("span",{staticClass:"sps"},[t._v("创建时间: "+t._s(t.time))])])]),a("div",{staticClass:"two"},[a("Button",{staticClass:"btntwo",attrs:{type:"primary",disabled:1==s.task_checked},on:{click:function(s){t.modal3=!0}}},[t._v("确认")]),a("Modal",{attrs:{title:"确认任务？"},on:{"on-ok":function(a){return t.okthree(s.tid)},"on-cancel":t.cancel},model:{value:t.modal3,callback:function(s){t.modal3=s},expression:"modal3"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入检查人"},model:{value:t.person,callback:function(s){t.person=s},expression:"person"}})],1)],1)])}),0)])],1),a("Button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(s){t.modal=!0}}},[t._v("添加任务")]),a("Modal",{attrs:{title:"添加任务"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal,callback:function(s){t.modal=s},expression:"modal"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入任务名称"},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1)],1)])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("header",[a("h1",[t._v("任务表")])])}],i=(a("612f"),a("7415"),a("3955")),o={name:"tasklist",components:{Button:i["Button"],Tabs:i["Tabs"],TabPane:i["TabPane"],Modal:i["Modal"],Input:i["Input"]},data:function(){return{modal:!1,modal1:!1,modal2:!1,modal3:!1,value:"",change:"",person:"",list:[],list1:[],list2:[],time:(new Date).toLocaleDateString()}},methods:{ok:function(){var t=this.$route.params,s=t.pid,a=t.tid,n=t.mid;fetch("/createTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_name:this.value,team_id:a,pid:s,mid:n})}).then(function(t){return t.json()}).then(function(t){console.log(t)}),this.getdata()},cancel:function(){},delete:function(t,s){fetch("/deleteTask?tid="+t+"&mid="+s).then(function(t){return t.json()}).then(function(t){console.log(t)}),this.getdata()},okone:function(t,s){this.delete(t,s)},oktwo:function(t,s){this.delete(t,s)},okthree:function(t){console.log(t),fetch("/taskCheck?tid="+t+"&checkPerson="+this.person).then(function(t){return t.json()}).then(function(t){console.log(t)}),this.getdata()},find:function(t,s,a,n){var e=s[t];fetch("/taskStatus?tid="+e.tid+"&status="+n).then(function(t){return t.json()}).then(function(t){console.log(t)})},start:function(t){this.find(t,this.list,this.list1,1),this.getdata()},end:function(t){this.find(t,this.list1,this.list2,2),this.getdata()},getdata:function(){var t=this;this.list=[],this.list1=[],this.list2=[];var s=this.$route.params.mid;fetch("/tasksList?mid="+s).then(function(t){return t.json()}).then(function(s){1==s.code&&(s.results.forEach(function(s){0==s.task_status?t.list.push(s):1==s.task_status?t.list1.push(s):t.list2.push(s)}),console.log(s))})}},created:function(){this.getdata()}},c=o,l=(a("7a9f"),a("17cc")),r=Object(l["a"])(c,n,e,!1,null,"7ef05a7c",null);s["default"]=r.exports},c027:function(t,s,a){var n=a("b429"),e=a("990a"),i=a("f3ae")("species");t.exports=function(t){var s;return e(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!e(s.prototype)||(s=void 0),n(s)&&(s=s[i],null===s&&(s=void 0))),void 0===s?Array:s}},cecc:function(t,s,a){var n=a("c027");t.exports=function(t,s){return new(n(t))(s)}},ea02:function(t,s,a){var n=a("0709"),e=a("240e"),i=a("aa91"),o=a("33f2"),c=a("cecc");t.exports=function(t,s){var a=1==t,l=2==t,r=3==t,u=4==t,d=6==t,f=5==t||d,p=s||c;return function(s,c,m){for(var h,v,k=i(s),C=e(k),_=n(c,m,3),b=o(C.length),y=0,L=a?p(s,b):l?p(s,0):void 0;b>y;y++)if((f||y in C)&&(h=C[y],v=_(h,y,k),t))if(a)L[y]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:L.push(h)}else if(u)return!1;return d?-1:r||u?u:L}}}}]);
//# sourceMappingURL=chunk-2c47b48d.2cb0de50.js.map