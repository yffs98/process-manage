(function(t){function e(e){for(var r,s,o=e[0],u=e[1],c=e[2],p=0,l=[];p<o.length;p++)s=o[p],a[s]&&l.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);d&&d(e);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"18fc":function(t,e,n){},"2a56":function(t,e,n){},"2cf0":function(t,e,n){},3511:function(t,e,n){"use strict";var r=n("18fc"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("8bbf"),a=n.n(r),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],o={},u=o,c=n("2877"),d=Object(c["a"])(u,i,s,!1,null,null,null),p=d.exports,l=n("6389"),m=n.n(l),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[t._m(0),n("div",{staticClass:"lists"},[n("ul",t._l(t.teamArr,function(e,r){return n("li",{key:r,on:{click:function(n){return t.detail(e.team_id)}}},[n("span",[t._v(t._s(e.team_name))]),t._m(1,!0),n("button",{on:{click:function(n){return n.stopPropagation(),t.m_del(e.team_id)}}},[t._v("删除")])])}),0)]),n("div",{staticClass:"bottom"},[n("button",{on:{click:t.add}},[t._v("添加小组")])]),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.isAdd,expression:"isAdd"}],attrs:{"isShow:isAdd":""}},[n("div",[n("h3",[t._v("添加小组")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.teamName,expression:"teamName"}],staticClass:"inpname",attrs:{type:"text",placeholder:"请输入小组名称"},domProps:{value:t.teamName},on:{input:function(e){e.target.composing||(t.teamName=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.gitAddr,expression:"gitAddr"}],attrs:{name:"",id:"",cols:"20",rows:"5",placeholder:"小组仓库地址"},domProps:{value:t.gitAddr},on:{input:function(e){e.target.composing||(t.gitAddr=e.target.value)}}}),n("button",{on:{click:t.sure}},[t._v("确定")]),n("button",{on:{click:t.sure}},[t._v("取消")])])])],1)},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h3",[t._v("项目名称")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"process-list"},[n("i")])}],v=(n("96cf"),n("3b8d")),_=(n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[t._t("default")],2)}),w=[],b={},g=b,k=(n("fc29"),Object(c["a"])(g,_,w,!1,null,"254ed442",null)),y=k.exports,j={components:{Dialog:y},data:function(){return{isShow:!1,isAdd:!1,teamName:"",gitAddr:"",teamArr:[],lengths:0}},created:function(){this.updata()},methods:{updata:function(){var t=this,e=new URLSearchParams;e.append("pid",this.$route.query.pid);var n=e.toString();fetch("/teamlist?".concat(n)).then(function(t){return t.json()}).then(function(e){if(1==e.code)return t.teamArr=e.results})},edit:function(){this.isShow=!0},add:function(){this.isAdd=!this.isAdd},m_del:function(t){var e=this,n=new URLSearchParams;n.append("team_id",t);var r=n.toString();fetch("/deleteTeam?".concat(r)).then(function(t){return t.json()}).then(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==n.code){t.next=4;break}return alert(n.results),t.next=4,e.updata();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},sure:function(){var t=this;if(this.isAdd=!1,this.teamName&&this.gitAddr){var e=new URLSearchParams;e.append("teamName",this.teamName),e.append("gitAddr",this.gitAddr),e.append("pid",this.$route.query.pid);var n=e.toString();fetch("/createTeam?".concat(n)).then(function(t){return t.json()}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return 0==n.code&&alert("小组已存在"),e.next=3,t.updata();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},detail:function(t){var e=this.$route.query.pid;this.$router.push({path:"/Members",query:{team_id:t,pid:e}})}}},x=j,S=(n("3511"),Object(c["a"])(x,h,f,!1,null,null,null)),P=S.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[t._m(0),n("section",[t._l(t.projectArr,function(e,r){return n("div",{key:r,staticClass:"list"},[n("h4",{on:{click:function(n){return t.project(e.project_id)}}},[t._v(t._s(e.project_name))]),n("div",{staticClass:"con"},[n("li",[t._v(t._s(e.project_discription))]),n("button",{on:{click:function(n){return t.p_del(e.project_id)}}},[t._v("删除")])])])}),n("div",{staticClass:"bottom"},[n("button",{on:{click:t.dialog}},[t._v("创建项目")])])],2),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{"isShow:isShow":""}},[n("div",[n("h3",[t._v("创建项目")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.project_name,expression:"project_name"}],staticClass:"inpname",attrs:{type:"text",placeholder:"请输入项目名称"},domProps:{value:t.project_name},on:{input:function(e){e.target.composing||(t.project_name=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.project_discription,expression:"project_discription"}],attrs:{name:"",id:"",cols:"20",rows:"5",placeholder:"添加项目介绍"},domProps:{value:t.project_discription},on:{input:function(e){e.target.composing||(t.project_discription=e.target.value)}}}),n("button",{on:{click:t.sure}},[t._v("确定")]),n("button",{on:{click:t.sure}},[t._v("取消")])])])],1)},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h3",[t._v("项目类表----班级")])])}],A={components:{Dialog:y},data:function(){return{isShow:!1,project_name:"",project_discription:"",projectArr:[]}},created:function(){this.updata()},methods:{updata:function(){var t=this;fetch("/projectList").then(function(t){return t.json()}).then(function(e){return t.projectArr=e.results})},dialog:function(){this.isShow=!this.isShow},sure:function(){var t=this;if(this.isShow=!1,this.project_name&&this.project_discription){var e=new URLSearchParams;e.append("project_name",this.project_name),e.append("project_discription",this.project_discription),fetch("/createProject?",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:e.toString()}).then(function(t){return t.json()}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updata();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},project:function(t){this.$router.push({path:"/ProjectName",query:{pid:t}})},p_del:function(t){var e=this,n=new URLSearchParams;n.append("project_id",t);var r=n.toString();fetch("/deleteProject?".concat(r)).then(function(t){return t.json()}).then(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==n.code){t.next=4;break}return alert(n.results),t.next=4,e.updata();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},O=A,C=(n("ca9c"),Object(c["a"])(O,R,$,!1,null,null,null)),N=C.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[t._m(0),n("div",{staticClass:"list-con"},t._l(t.membersArr,function(e,r){return n("dl",{key:r},[t._m(1,!0),n("dd",{on:{click:function(n){return t.task(e.mid,e.member_name,e.identity)}}},[n("h3",[t._v(t._s(e.member_name))]),n("span",[t._v(t._s(2===e.identity?"组员":"组长"))])]),n("button",{on:{click:function(n){return t.del(e.mid)}}},[t._v("删除")])])}),0),n("div",{staticClass:"bottom"},[n("button",{on:{click:t.show}},[t._v("添加成员")])]),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.isMembers,expression:"isMembers"}],attrs:{"isShow:isMembers":""}},[n("div",[n("h3",[t._v("添加成员")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.member_name,expression:"member_name"}],staticClass:"inpname",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.member_name},on:{input:function(e){e.target.composing||(t.member_name=e.target.value)}}}),n("br"),n("div",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identity,expression:"identity"}],attrs:{type:"radio",name:"组长",value:"1"},domProps:{checked:t._q(t.identity,"1")},on:{change:function(e){t.identity="1"}}}),t._v("组长\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.identity,expression:"identity"}],attrs:{type:"radio",name:"组长",value:"2"},domProps:{checked:t._q(t.identity,"2")},on:{change:function(e){t.identity="2"}}}),t._v("组员\n      ")]),n("button",{on:{click:t.sures}},[t._v("确定")]),n("button",{on:{click:t.sures}},[t._v("取消")])])])],1)},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h3",[t._v("小组成员")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",[n("img",{attrs:{src:"",alt:""}})])}],M={components:{Dialog:y},data:function(){return{isMembers:!1,member_name:"",identity:0,membersArr:[]}},created:function(){this.updata()},methods:{updata:function(){var t=this,e=new URLSearchParams;e.append("team_id",this.$route.query.team_id);var n=e.toString();fetch("/teamMembers?".concat(n)).then(function(t){return t.json()}).then(function(e){return t.membersArr=e.result})},show:function(){this.isMembers=!this.isMembers},sures:function(){var t=this;if(this.isMembers=!1,this.member_name){var e=new URLSearchParams;e.append("member_name",this.member_name),e.append("identity",this.identity),e.append("team_id",this.$route.query.team_id),fetch("/createMember?",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:e.toString()}).then(function(t){return t.json()}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=n.code){e.next=5;break}return alert("该组已有组长"),e.abrupt("return");case 5:return e.next=7,t.updata();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},task:function(t,e,n){var r=this.$route.query.team_id,a=this.$route.query.pid,i=1==n?e:null;this.$router.push({path:"/Task",query:{mid:t,team_id:r,pid:a,name:i}})},del:function(t){var e=this,n=new URLSearchParams;n.append("mid",t);var r=n.toString();fetch("/deleteMember?".concat(r)).then(function(t){return t.json()}).then(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==n.code){t.next=4;break}return alert(n.results),t.next=4,e.updata();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},L=M,U=(n("e649"),Object(c["a"])(L,T,q,!1,null,null,null)),E=U.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[t._m(0),n("div",{staticClass:"process"},t._l(t.list,function(e,r){return n("div",{key:r,class:r===t.status?"active":null})}),0),n("div",{staticClass:"tab"},[n("ul",t._l(t.list,function(e,r){return n("li",{key:r,class:r===t.status?"active":null,on:{click:function(e){return t.tab(r)}}},[t._v(t._s(e.name))])}),0)]),n("div",{staticClass:"task-list"},t._l(t.listArr,function(e,r){return n("ol",{key:r},[n("li",[n("p",[n("span",[t._v(t._s(e.task_name))]),n("i",[n("button",{attrs:{type:"button"},on:{click:function(n){return t.begin(e.task_status,e.tid)}}},[t._v(t._s(0===e.task_status?"开始":1===e.task_status?"":null))]),n("button",{attrs:{type:"button"},on:{click:function(n){return t.will(e.task_status,e.tid)}}},[t._v(t._s(0===e.task_status?"完成":1===e.task_status?"完成":null))]),n("button",{attrs:{type:"button"}},[t._v("创建时间")]),n("span",[t._v(t._s(2===e.task_status?"已完成":"未完成"))]),t._v("   \n            "),n("span",[t._v(t._s(1===e.task_checked?"已确定":"未确定"))])])]),n("button",{on:{click:function(n){return t.go(e.tid)}}},[t._v(t._s(2===e.task_status?"确认":"修改"))])])])}),0),n("div",{staticClass:"bottom"},[n("button",{on:{click:t.addTask}},[t._v("添加任务")])]),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.isTask,expression:"isTask"}],attrs:{"isShow:isTask":""}},[n("div",[n("h3",[t._v("添加任务")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],staticClass:"inpname",attrs:{type:"text",placeholder:"请输入任务描述"},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),n("button",{on:{click:t.sure}},[t._v("确定")]),n("button",{on:{click:t.sure}},[t._v("取消")])])]),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{"isShow:isShow":""}},[n("div",[n("h3",[t._v("确定该任务已完成？")]),n("span",[t._v("确认人:"+t._s(this.$route.query.name?this.$route.query.name+"组长":""))]),n("button",{on:{click:t.sures}},[t._v("确定")])])])],1)},J=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h3",[t._v("任务表")])])}],V={components:{Dialog:y},data:function(){return{isTask:!1,task_name:"",taskArr:[],ind:0,index:0,status:0,isShow:!1,tid:"",all:"未确定",list:[{name:"todo"},{name:"doing"},{name:"done"}],person:""}},created:function(){this.updata()},computed:{listArr:function(){var t=this;return this.taskArr.filter(function(e){if(e.task_status===t.status)return e})}},methods:{sures:function(){var t=this;this.isShow=!1;var e=new URLSearchParams;e.append("checkPerson",this.$route.query.mid),e.append("tid",this.tid);var n=e.toString();fetch("/taskCheck?".concat(n)).then(function(t){return t.json()}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(n),1!=n.code){e.next=8;break}return t.all="已确认",e.next=5,t.updata();case 5:return e.abrupt("return");case 8:alert(n.result);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},go:function(t){this.isShow=!0,this.tid=t},updata:function(){var t=this,e=new URLSearchParams;e.append("mid",this.$route.query.mid);var n=e.toString();fetch("/tasksList?".concat(n)).then(function(t){return t.json()}).then(function(e){return t.taskArr=e.results,console.log(e)})},tab:function(t){this.status=t},addTask:function(){this.isTask=!this.isTask},begin:function(t,e){var n=this;t=1;var r=new URLSearchParams;r.append("status",t),r.append("tid",e);var a=r.toString();console.log(a),fetch("/taskStatus?".concat(a)).then(function(t){return t.json()}).then(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.updata();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},will:function(t,e){var n=this;t=2;var r=new URLSearchParams;r.append("status",t),r.append("tid",e);var a=r.toString();console.log(a),fetch("/taskStatus?".concat(a)).then(function(t){return t.json()}).then(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.updata();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},sure:function(){var t=this;if(this.isTask=!1,this.task_name){var e=new URLSearchParams;e.append("task_name",this.task_name),e.append("mid",this.$route.query.mid),e.append("team_id",this.$route.query.team_id),e.append("pid",this.$route.query.pid),fetch("/createTask?",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:e.toString()}).then(function(t){return t.json()}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updata();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}}},z=V,B=(n("e428"),Object(c["a"])(z,D,J,!1,null,null,null)),F=B.exports;a.a.use(m.a);var G=new m.a({mode:"hash",base:"",routes:[{path:"/",name:N,component:N},{path:"/ProjectName",name:P,component:P},{path:"/Members",name:"Members",component:E},{path:"/Task",name:"Task",component:F}]}),H=n("2f62");a.a.use(H["a"]);var I=new H["a"].Store({state:{},mutations:{},actions:{}});a.a.config.productionTip=!1,new a.a({router:G,store:I,render:function(t){return t(p)}}).$mount("#app")},6389:function(t,e){t.exports=VueRouter},"8bbf":function(t,e){t.exports=Vue},"93bf":function(t,e,n){},ca9c:function(t,e,n){"use strict";var r=n("2a56"),a=n.n(r);a.a},e428:function(t,e,n){"use strict";var r=n("f800"),a=n.n(r);a.a},e649:function(t,e,n){"use strict";var r=n("93bf"),a=n.n(r);a.a},f800:function(t,e,n){},fc29:function(t,e,n){"use strict";var r=n("2cf0"),a=n.n(r);a.a}});
//# sourceMappingURL=app.0c188248.js.map